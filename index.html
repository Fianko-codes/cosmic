<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Cosmic Solar System - Fianko-codes</title>
    <style>
        body { 
            margin: 0; 
            overflow: hidden; 
            background: black;
            font-family: Arial, sans-serif;
        }

        #info {
            position: fixed;
            top: 20px;
            left: 20px;
            background: rgba(0, 0, 0, 0.8);
            color: #0ff;
            padding: 20px;
            border-radius: 10px;
            max-width: 300px;
            display: none;
            border: 1px solid #0ff;
        }

        #controls {
            position: fixed;
            bottom: 20px;
            left: 50%;
            transform: translateX(-50%);
            display: flex;
            gap: 10px;
            background: rgba(0, 0, 0, 0.8);
            padding: 10px;
            border-radius: 10px;
            border: 1px solid #0ff;
        }

        .btn {
            background: #0ff;
            border: none;
            padding: 8px 16px;
            border-radius: 5px;
            color: black;
            cursor: pointer;
            transition: all 0.3s;
        }

        .btn:hover {
            background: #00ffff80;
            transform: scale(1.05);
        }
    </style>
</head>
<body>
    <div id="info">
        <h2 id="planetName"></h2>
        <p id="planetInfo"></p>
    </div>

    <div id="controls">
        <button class="btn" id="toggleOrbits">Toggle Orbits</button>
        <button class="btn" id="toggleRotation">Toggle Rotation</button>
        <button class="btn" id="resetCamera">Reset View</button>
    </div>

    <script type="importmap">
        {
            "imports": {
                "three": "https://unpkg.com/three@0.160.0/build/three.module.js",
                "three/addons/": "https://unpkg.com/three@0.160.0/examples/jsm/"
            }
        }
    </script>
    <script type="module">
        import * as THREE from 'three';
        import { OrbitControls } from 'three/addons/controls/OrbitControls.js';

        // Scene setup
        const scene = new THREE.Scene();
        const camera = new THREE.PerspectiveCamera(75, window.innerWidth / window.innerHeight, 0.1, 1000);
        const renderer = new THREE.WebGLRenderer({ antialias: true });
        renderer.setSize(window.innerWidth, window.innerHeight);
        document.body.appendChild(renderer.domElement);

        // Controls
        const controls = new OrbitControls(camera, renderer.domElement);
        controls.enableDamping = true;
        camera.position.set(0, 30, 100);

        // Lights
        const ambientLight = new THREE.AmbientLight(0x333333);
        scene.add(ambientLight);
        
        const sunLight = new THREE.PointLight(0xffffff, 2);
        scene.add(sunLight);

        // Background stars
        const starGeometry = new THREE.BufferGeometry();
        const starVertices = [];
        for(let i = 0; i < 10000; i++) {
            const x = THREE.MathUtils.randFloatSpread(2000);
            const y = THREE.MathUtils.randFloatSpread(2000);
            const z = THREE.MathUtils.randFloatSpread(2000);
            starVertices.push(x, y, z);
        }
        starGeometry.setAttribute('position', new THREE.Float32BufferAttribute(starVertices, 3));
        const starMaterial = new THREE.PointsMaterial({ color: 0xFFFFFF, size: 0.7 });
        const stars = new THREE.Points(starGeometry, starMaterial);
        scene.add(stars);

        // Planet data
        const planets = [
            {
                name: 'Sun',
                radius: 8,
                distance: 0,
                color: 0xffdd00,
                emissive: true,
                info: 'The star at the center of our Solar System'
            },
            {
                name: 'Mercury',
                radius: 1,
                distance: 20,
                color: 0x888888,
                info: 'Smallest planet, closest to the Sun'
            },
            {
                name: 'Venus',
                radius: 1.5,
                distance: 30,
                color: 0xffd700,
                info: 'Second planet from the Sun, hottest in our system'
            },
            {
                name: 'Earth',
                radius: 2,
                distance: 40,
                color: 0x2233ff,
                info: 'Our home planet, the only known planet with life'
            },
            {
                name: 'Mars',
                radius: 1.7,
                distance: 50,
                color: 0xff4400,
                info: 'The Red Planet, fourth from the Sun'
            },
            {
                name: 'Jupiter',
                radius: 4,
                distance: 70,
                color: 0xffaa88,
                info: 'Largest planet in our Solar System'
            },
            {
                name: 'Saturn',
                radius: 3.5,
                distance: 90,
                color: 0xffcc88,
                info: 'Known for its beautiful rings',
                hasRings: true
            },
            {
                name: 'Uranus',
                radius: 3,
                distance: 110,
                color: 0x88ffff,
                info: 'Ice giant with a tilted axis'
            },
            {
                name: 'Neptune',
                radius: 3,
                distance: 130,
                color: 0x4444ff,
                info: 'The windiest planet'
            }
        ];

        const planetObjects = [];
        const orbitLines = [];

        // Create planets
        planets.forEach((data, index) => {
            // Create orbit
            if (index > 0) { // Skip Sun's orbit
                const orbitGeometry = new THREE.RingGeometry(data.distance, data.distance + 0.1, 64);
                const orbitMaterial = new THREE.MeshBasicMaterial({
                    color: 0x444444,
                    side: THREE.DoubleSide,
                    transparent: true,
                    opacity: 0.3
                });
                const orbit = new THREE.Mesh(orbitGeometry, orbitMaterial);
                orbit.rotation.x = Math.PI / 2;
                scene.add(orbit);
                orbitLines.push(orbit);
            }

            // Create planet
            const geometry = new THREE.SphereGeometry(data.radius, 32, 32);
            const material = new THREE.MeshPhongMaterial({
                color: data.color,
                shininess: 30
            });

            if (data.emissive) {
                material.emissive = new THREE.Color(data.color);
                material.emissiveIntensity = 0.5;
            }

            const planet = new THREE.Mesh(geometry, material);

            // Add rings for Saturn
            if (data.hasRings) {
                const ringGeometry = new THREE.RingGeometry(data.radius * 1.4, data.radius * 2, 32);
                const ringMaterial = new THREE.MeshBasicMaterial({
                    color: 0xffaa00,
                    side: THREE.DoubleSide,
                    transparent: true,
                    opacity: 0.8
                });
                const rings = new THREE.Mesh(ringGeometry, ringMaterial);
                rings.rotation.x = Math.PI / 2;
                planet.add(rings);
            }

            // Add to scene
            const planetGroup = new THREE.Group();
            planet.position.x = data.distance;
            planetGroup.add(planet);
            scene.add(planetGroup);

            planetObjects.push({
                mesh: planet,
                group: planetGroup,
                data: data,
                rotationSpeed: 0.01 / (index + 1),
                orbitSpeed: 0.005 / Math.sqrt(index + 1)
            });
        });

        // UI Elements
        const info = document.getElementById('info');
        const planetName = document.getElementById('planetName');
        const planetInfo = document.getElementById('planetInfo');
        const toggleOrbitsBtn = document.getElementById('toggleOrbits');
        const toggleRotationBtn = document.getElementById('toggleRotation');
        const resetCameraBtn = document.getElementById('resetCamera');

        // Event handlers
        let rotationEnabled = true;

        toggleOrbitsBtn.addEventListener('click', () => {
            orbitLines.forEach(orbit => orbit.visible = !orbit.visible);
        });

        toggleRotationBtn.addEventListener('click', () => {
            rotationEnabled = !rotationEnabled;
            toggleRotationBtn.textContent = rotationEnabled ? 'Stop Rotation' : 'Start Rotation';
        });

        resetCameraBtn.addEventListener('click', () => {
            camera.position.set(0, 30, 100);
            camera.lookAt(0, 0, 0);
        });

        // Click interaction
        const raycaster = new THREE.Raycaster();
        const mouse = new THREE.Vector2();

        window.addEventListener('click', (event) => {
            mouse.x = (event.clientX / window.innerWidth) * 2 - 1;
            mouse.y = -(event.clientY / window.innerHeight) * 2 + 1;

            raycaster.setFromCamera(mouse, camera);
            const intersects = raycaster.intersectObjects(
                planetObjects.map(obj => obj.mesh)
            );

            if (intersects.length > 0) {
                const planet = planetObjects.find(p => p.mesh === intersects[0].object);
                planetName.textContent = planet.data.name;
                planetInfo.textContent = planet.data.info;
                info.style.display = 'block';
            } else {
                info.style.display = 'none';
            }
        });

        // Animation
        function animate() {
            requestAnimationFrame(animate);

            if (rotationEnabled) {
                planetObjects.forEach(obj => {
                    // Rotate planet
                    obj.mesh.rotation.y += obj.rotationSpeed;
                    
                    // Orbit around sun
                    obj.group.rotation.y += obj.orbitSpeed;
                });
            }

            controls.update();
            renderer.render(scene, camera);
        }

        // Handle window resize
        window.addEventListener('resize', () => {
            camera.aspect = window.innerWidth / window.innerHeight;
            camera.updateProjectionMatrix();
            renderer.setSize(window.innerWidth, window.innerHeight);
        });

        animate();
    </script>
</body>
</html>
